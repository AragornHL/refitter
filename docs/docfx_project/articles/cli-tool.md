## CLI Tool

The tool is packaged as a .NET Tool and is published to nuget.org. You can install the latest version of this tool like this:

```shell
dotnet tool install --global Refitter
```

#### Usage:

```shell
$ refitter --help
```

```
USAGE:
    refitter [URL or input file] [OPTIONS]

EXAMPLES:
    refitter ./openapi.json
    refitter https://petstore3.swagger.io/api/v3/openapi.yaml
    refitter ./openapi.json --settings-file ./openapi.refitter --output ./GeneratedCode.cs
    refitter ./openapi.json --namespace "Your.Namespace.Of.Choice.GeneratedCode" --output ./GeneratedCode.cs
    refitter ./openapi.json --namespace "Your.Namespace.Of.Choice.GeneratedCode" --internal
    refitter ./openapi.json --output ./IGeneratedCode.cs --interface-only
    refitter ./openapi.json --use-api-response
    refitter ./openapi.json --cancellation-tokens
    refitter ./openapi.json --no-operation-headers
    refitter ./openapi.json --no-accept-headers
    refitter ./openapi.json --use-iso-date-format
    refitter ./openapi.json --additional-namespace "Your.Additional.Namespace" --additional-namespace "Your.Other.Additional.Namespace"
    refitter ./openapi.json --multiple-interfaces ByEndpoint
    refitter ./openapi.json --tag Pet --tag Store --tag User
    refitter ./openapi.json --match-path '^/pet/.*'
    refitter ./openapi.json --no-deprecated-operations
    refitter ./openapi.json --operation-name-template '{operationName}Async'
    refitter ./openapi.json --optional-nullable-parameters

ARGUMENTS:
    [URL or input file]    URL or file path to OpenAPI Specification file

OPTIONS:
                                          DEFAULT                                                                                                                                                    
    -h, --help                                             Prints help information                                                                                                                   
    -s, --settings-file                                    Path to .refitter settings file. Specifying this will ignore all other settings (except for --output)                                     
    -n, --namespace                       GeneratedCode    Default namespace to use for generated types                                                                                              
    -o, --output                          Output.cs        Path to Output file                                                                                                                       
        --no-auto-generated-header                         Don't add <auto-generated> header to output file                                                                                          
        --no-accept-headers                                Don't add <Accept> header to output file                                                                                                  
        --interface-only                                   Don't generate contract types                                                                                                             
        --use-api-response                                 Return Task<IApiResponse<T>> instead of Task<T>                                                                                           
        --internal                                         Set the accessibility of the generated types to 'internal'                                                                                
        --cancellation-tokens                              Use cancellation tokens                                                                                                                   
        --no-operation-headers                             Don't generate operation headers                                                                                                          
        --no-logging                                       Don't log errors or collect telemetry                                                                                                     
        --additional-namespace                             Add additional namespace to generated types                                                                                               
        --use-iso-date-format                              Explicitly format date query string parameters in ISO 8601 standard date format using delimiters (2023-06-15)                             
        --multiple-interfaces                              Generate a Refit interface for each endpoint. May be one of ByEndpoint, ByTag                                                             
        --match-path                                       Only include Paths that match the provided regular expression. May be set multiple times                                                  
        --tag                                              Only include Endpoints that contain this tag. May be set multiple times and result in OR'ed evaluation                                    
        --skip-validation                                  Skip validation of the OpenAPI specification                                                                                              
        --no-deprecated-operations                         Don't generate deprecated operations                                                                                                      
        --operation-name-template                          Generate operation names using pattern. When using --multiple-interfaces ByEndpoint, this is name of the Execute() method in the interface
        --optional-nullable-parameters                     Generate nullable parameters as optional parameters                                                                                       
```

To generate code from an OpenAPI specifications file, run the following:

```shell
$ refitter [path to OpenAPI spec file] --namespace "[Your.Namespace.Of.Choice.GeneratedCode]"
```

This will generate a file called `Output.cs` which contains the Refit interface and contract classes generated using [NSwag](https://github.com/RicoSuter/NSwag)

The settings file uses the [.refitter file format](refitter-file-format.md)


#### System requirements
.NET 6.0 (LTS)